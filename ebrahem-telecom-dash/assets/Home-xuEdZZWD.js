import{j as s,e as o,r as n,u as d,O as _,T as l,f as j,C as f,a as v,b as h,c as b,_ as y}from"./index-DM6_aNyI.js";function E({dataCounter:e}){return s.jsxs("div",{className:"w-full flex items-center justify-end gap-4 flex-row-reverse mt-6",children:[e.user_balance!==void 0&&s.jsx(o,{icon:"/assets/icons/iconBalance.svg",count:e.user_balance,title:"رصيد اليوم"}),e.user_credit!==void 0&&s.jsx(o,{icon:"/assets/icons/iconBalance.svg",count:e.user_credit,title:"الرصيد الإتماني اليوم"}),e.employee_count!==void 0&&s.jsx(o,{icon:"/assets/icons/iconEmployee.svg",count:e.employee_count,title:"عدد الموظفين"}),e.opertions_count!==void 0&&s.jsx(o,{icon:"/assets/icons/iconProggress.svg",count:e.opertions_count,title:"عدد العمليات اليوم"}),e.point_of_sale_count!==void 0&&s.jsx(o,{icon:"/assets/icons/iconPoints.svg",count:e.point_of_sale_count,title:"عدد نقاط البيع"})]})}function T(){const[e,u]=n.useState(),[a,x]=n.useState(),[g,P]=n.useState(!1),m=d(),p=async()=>{var r,c,i;try{const t=await v.get(`${h}home-Page`,{headers:{Accept:"application/json",Authorization:`Bearer ${b.get("token")}`}});u(t.data.data),x(t.data.data.today_bill_count)}catch(t){if(((r=t.response)==null?void 0:r.status)===401){y.error("انتهت الجلسة"),m("/log_in");return}throw new Error(((i=(c=t.response)==null?void 0:c.data)==null?void 0:i.message)||"خطأ في الشبكة 🚨")}};return n.useEffect(()=>{p()},[]),s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl lg:text-[32px] font-bold text-right",children:"الرئيسية"}),e?s.jsxs(s.Fragment,{children:[s.jsx(E,{dataCounter:e}),s.jsx(_.Provider,{value:a,children:s.jsx(l.LayoutTable,{title:(a==null?void 0:a.length)!==0?"العمليات":"لا يوجد عمليات",children:s.jsx(l.DataTable,{error:g,columns:j,mainPage:!0})})})]}):s.jsx(f,{className:"ml-[50%] mt-[10%]"})]})}export{T as default};
