import{j as s,e as o,r as a,u as h,O as b,T as d,f as y,C as E,a as P,b as T,c as w,_ as S}from"./index-ztSz9auW.js";function N({dataCounter:t}){return s.jsxs("div",{className:"w-full flex items-center justify-end gap-4 flex-row-reverse mt-6",children:[t.user_balance!==void 0&&s.jsx(o,{icon:"/assets/icons/iconBalance.svg",count:t.user_balance,title:"Ø±ØµÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…"}),t.user_credit!==void 0&&s.jsx(o,{icon:"/assets/icons/iconBalance.svg",count:t.user_credit,title:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¥ØªÙ…Ø§Ù†ÙŠ Ø§Ù„ÙŠÙˆÙ…"}),t.employee_count!==void 0&&s.jsx(o,{icon:"/assets/icons/iconEmployee.svg",count:t.employee_count,title:"Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"}),t.opertions_count!==void 0&&s.jsx(o,{icon:"/assets/icons/iconProggress.svg",count:t.opertions_count,title:"Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…"}),t.point_of_sale_count!==void 0&&s.jsx(o,{icon:"/assets/icons/iconPoints.svg",count:t.point_of_sale_count,title:"Ø¹Ø¯Ø¯ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹"})]})}function D(){const[t,x]=a.useState(),[n,f]=a.useState(),[g,O]=a.useState(!1),[m,_]=a.useState(0),[p,i]=a.useState(!1),j=h(),c=async v=>{var r,l,u;i(!0);try{const e=await P.get(`${T}home-Page?limit=10&offset=${v}`,{headers:{Accept:"application/json",Authorization:`Bearer ${w.get("token")}`}});i(!1),x(e.data.data),f(e.data.data.today_bills.data),console.log(e.data.data.today_bills.total),_(e.data.data.today_bills.total),setOffset(e.data.data.today_bills.offset)}catch(e){if(((r=e.response)==null?void 0:r.status)===401){S.error("Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©"),j("/");return}throw new Error(((u=(l=e.response)==null?void 0:l.data)==null?void 0:u.message)||"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© ðŸš¨")}};return a.useEffect(()=>{c(0)},[]),s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl lg:text-[32px] font-bold text-right",children:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"}),t?s.jsxs(s.Fragment,{children:[s.jsx(N,{dataCounter:t}),s.jsx(b.Provider,{value:n,children:s.jsx(d.LayoutTable,{title:(n==null?void 0:n.length)!==0?"Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„ÙŠØ§Øª",children:s.jsx(d.DataTable,{error:g,total:m,columns:y,mainPage:!0,fetchData:c,loading:p})})})]}):s.jsx(E,{className:"ml-[50%] mt-[10%]"})]})}export{D as default};
